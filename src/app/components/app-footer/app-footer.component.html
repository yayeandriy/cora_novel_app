<footer class="app-footer">
  <div class="footer-left">
    <button class="icon-button-small" title="Back to projects" (click)="backToProjects.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <button class="icon-button-small" title="New folder" (click)="createGroup.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
      </svg>
    </button>
    <button class="icon-button-small" title="Import folders" (click)="importFolders.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 5v6m0 0l-3-3m3 3l3-3" />
      </svg>
    </button>
    <button class="icon-button-small" title="Import files" (click)="importFiles.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v6m0 0l-3-3m3 3l3-3" />
      </svg>
    </button>
    <button class="icon-button-small export" title="Export project" (click)="exportProject.emit()" aria-label="Export project">
      <img class="export-icon" src="assets/icons/square.and.arrow.up.svg" alt="" />
    </button>
    <div class="footer-divider"></div>
    <button class="icon-button-small delete" 
            title="Delete selected item" 
            [disabled]="!selectedDoc && !selectedGroup"
            [class.disabled]="!selectedDoc && !selectedGroup"
            (click)="deleteItem.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
      </svg>
    </button>
  </div>

  <!-- Typography Settings -->
  <div class="footer-typography">
    <!-- Font Family -->
    <div class="typography-group" title="Font">
      <button class="typo-tab" [class.active]="fontFamily === 'mono'" (click)="setFontFamily('mono')">Mono</button>
      <button class="typo-tab" [class.active]="fontFamily === 'serif'" (click)="setFontFamily('serif')">Serif</button>
      <button class="typo-tab" [class.active]="fontFamily === 'sans'" (click)="setFontFamily('sans')">Sans</button>
    </div>
    <!-- Font Size -->
    <div class="typography-group" title="Size">
      <button class="typo-tab" [class.active]="fontSize === 'S'" (click)="setFontSize('S')">S</button>
      <button class="typo-tab" [class.active]="fontSize === 'M'" (click)="setFontSize('M')">M</button>
      <button class="typo-tab" [class.active]="fontSize === 'L'" (click)="setFontSize('L')">L</button>
    </div>
    <!-- Line Height / Leading -->
    <div class="typography-group" title="Leading">
      <button class="typo-tab leading-icon" [class.active]="lineHeight === 'S'" (click)="setLineHeight('S')">
        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M2 3h12v1H2zM2 7h12v1H2zM2 11h12v1H2z"/></svg>
      </button>
      <button class="typo-tab leading-icon" [class.active]="lineHeight === 'M'" (click)="setLineHeight('M')">
        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M2 2h12v1H2zM2 7h12v1H2zM2 12h12v1H2z"/></svg>
      </button>
      <button class="typo-tab leading-icon" [class.active]="lineHeight === 'L'" (click)="setLineHeight('L')">
        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M2 1h12v1H2zM2 7h12v1H2zM2 13h12v1H2z"/></svg>
      </button>
    </div>
  </div>

  <div class="footer-right" *ngIf="selectedDoc">
    <div class="stats-container">
      <span class="stat-item">
        <span class="stat-label">A:</span>
        <span class="stat-value">{{ docCharCount }}</span>
        <span class="stat-project">({{ formatNumber(projectCharCount) }})</span>
      </span>
      <span class="stat-item">
        <span class="stat-label">W:</span>
        <span class="stat-value">{{ docWordCount }}</span>
        <span class="stat-project">({{ formatNumber(projectWordCount) }})</span>
      </span>
      <span class="stat-item">
        <svg class="page-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
        <span class="stat-value">{{ docPageCount }}</span>
        <span class="stat-project">({{ projectPageCount }})</span>
      </span>
    </div>
  </div>
  <div class="footer-toggles">
    <button class="icon-button-small" [class.active]="!leftCollapsed" title="Toggle tree (⌘1)" (click)="toggleLeft.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h10M4 18h6" />
      </svg>
    </button>
    <button class="icon-button-small" [class.active]="isFullWidth" title="Full width (⌘2)" (click)="toggleAll.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 8V4h4M20 8V4h-4M4 16v4h4M20 16v4h-4" />
      </svg>
    </button>
    <button class="icon-button-small" [class.active]="!rightCollapsed" title="Toggle sidebar (⌘3)" (click)="toggleRight.emit()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M10 12h10M14 18h6" />
      </svg>
    </button>
  </div>
</footer>
