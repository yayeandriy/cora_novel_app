@if (selectedGroup) {
<div class="editor-container">
  <div class="editor-toolbar">
    <input 
      #groupNameInput
      type="text" 
      class="doc-title-input" 
      [(ngModel)]="selectedGroup.name"
      (blur)="onNameChange(selectedGroup!)"
      (keydown.enter)="onNameEnter($event)"
      placeholder="Folder name">
    <div class="toolbar-actions">
      <button class="toolbar-button" (click)="onCreateDoc()">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
        </svg>
        <span>New Document</span>
      </button>
    </div>
  </div>

  <!-- Folder Notes Section -->
  <div class="notes-section">
    <div class="notes-header" (click)="toggleNotes()">
      <div class="notes-title">
        <svg xmlns="http://www.w3.org/2000/svg" class="toggle-icon" [class.expanded]="notesExpanded" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
        <span>Folder Notes</span>
      </div>
    </div>
    @if (notesExpanded) {
      <div class="notes-content">
        <textarea 
          class="notes-textarea" 
          [(ngModel)]="selectedGroup.notes"
          (input)="onNotesChange()"
          placeholder="Add folder notes..."></textarea>
      </div>
    }
  </div>
  
  @if (!selectedFolderDraftId) {
    <div class="group-content">
      <p class="group-empty-message">Select a folder draft to start editing or create a new one</p>
    </div>
  } @else {
    <div class="editor-split">
      <div class="pane"></div>
      <div class="split-divider"
           [class.collapsed]="isSplitCollapsed"
           title="Drag to resize. Double-click to {{ isSplitCollapsed ? 'expand' : 'collapse' }}"
           (mousedown)="startResize($event)"
           (dblclick)="toggleCollapse()">
        <span class="divider-grip"></span>
      </div>
      @if (!isSplitCollapsed) {
        <div class="pane pane-right" [style.flex]="'0 0 ' + draftPaneWidth + 'px'" [style.width.px]="draftPaneWidth">
          <textarea
            #folderDraftTextarea
            [(ngModel)]="selectedFolderDraftContent"
            (input)="onFolderDraftInput($event)"
            (blur)="onFolderDraftBlur()"
            class="editor-textarea"
            placeholder="Folder draft content..."></textarea>
        </div>
      }
    </div>
  }
</div>
}
